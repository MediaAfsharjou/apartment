<!DOCTYPE html>
<html>
 <head>
 <meta charset = "utf-8">

 <title>مدیریت ساختمان</title>
 <link rel = "stylesheet" href = "styles.css">
 <link rel="icon" href="images/apartment-management.png">
 <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
 
 <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.1.0/bootstrap.min.js"></script>

 </head>
 <body id="body-pd" >

  <div class="m-4">
    <nav class="navbar sticky-top fixed-top navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarCollapse">
                
                <div class="nav_logo nav_logo-name ml-auto " >
                  <p>مدیریت ساختمان</p>
              </div>
              <div class="nav_logo-name">
                <a href="edit-index.html" >ویرایش اطلاعات</a>
            </div>
            </div>
        </div>
    </nav>
</div>

  <div class="l-navbar0 ml-auto" id="nav-bar">
    <nav class="nav0">
        <div> 
            
            
            <div class="nav_list"> 
            
              <a href="index.html" class="nav_link0">
              <span class="nav_name0">صفحه اصلی</span> </a>

              <a href="units.html" class="nav_link0"> 
              <span class="nav_name0">طبقات و واحد ها</span> </a>

              <a href="year.html" class="nav_link0">
              <span class="nav_name0">تعریف سال مالی</span> </a>

              <a href="charge.html" class="nav_link0">
              <span class="nav_name0">تعریف میزان شارژ</span> </a>

              <a href="rent.html" class="nav_link0">
              <span class="nav_name0">تعریف میزان اجاره</span> </a>

              <a href="expenses.html" class="nav_link0"> 
                <span class="nav_name0">تعریف هزینه مازاد</span> </a>

              <a href="reportcharge.html" class="nav_link0">
              <span class="nav_name0">گزارش شارژ</span> </a> 

              <a href="reportrent.html" class="nav_link0">
                <span class="nav_name0">گزارش اجاره</span> </a> 

              <a href="login-form.html" class="nav_link0">
              <span class="nav_name0">خروج</span> </a>
          </div>
        </div> 
    </nav>
</div>

<div class="container" id="profile" style="border-style: solid;">
    <div class="container-form container-fluid py-5 h-100 ">
      <div class="row vertical-center-row d-flex justify-content-center align-items-center h-100">
        <div class="col col-lg-6 mb-4 mb-lg-0 align-items-center">
          <div class="card mb-3 align-items-center" style="border-radius: .5rem;">
            <div class="align-items-center row g-0">
              <div class="col-md-offset-4 col-md-4 gradient-custom text-white"
                style="border-top-left-radius: .5rem; border-bottom-left-radius: .5rem;">
                <fieldset style="border: 0;">

                  <form action="index.html" method="post" class="form">
                      <div class="form-control">
                        
                        <img src="" class="edit-image" alt="پیش نمایش">
                        <input type="file" id="file" name="file" accept="image/*" onchange="previewFile()"
                         class="edit-button" style="width: max-content;">
                        <label for="file">بارگذاری عکس</label>
                      </div>
                      <div class="form-control">
          
                          <input type="text" id="username" placeholder="نام و نام خانوادگی" dir="rtl" style="width: max-content;" required>
              
                      </div>
                      <div class="form-control">
          
                          <input type="number" id="floor" placeholder="طبقه" dir="rtl" style="width: max-content;" required>
              
                      </div>
                      <div class="form-control">
          
                          <input type="number" id="unit" placeholder="واحد" dir="rtl" style="width: max-content;" required>
              
                      </div>
                      <div class="form-control">
          
                          <input type="text" id="contactinfo" placeholder="اطلاعات تماس" dir="rtl" style="width: max-content;" required>
              
                      </div>
                      <div class="form-control">
          
                          <input type="number" id="password" placeholder="رمز عبور" dir="rtl" style="width: max-content;" required>
              
                      </div>
                      
                        <input type="submit" value="ذخیره تغییرات" class="btn btn-block btn-primary" onclick="getData()"> 
                       
                  </form>
                </fieldset>
              </div>
              
              </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function getData()
 {
     var username = document.getElementById("username").value;
     localStorage.setItem("username", username);
     var floor= document.getElementById("floor").value; 
     localStorage.setItem("floor", floor);
     var unit= document.getElementById("unit").value; 
     localStorage.setItem("unit", unit);
     var contactinfo= document.getElementById("contactinfo").value; 
     localStorage.setItem("contactinfo", contactinfo);   
     var imgPath = document.querySelector('input[type=file]').files[0];
     var reader = new FileReader();
 
     reader.addEventListener("load", function () {
     // convert image file to base64 string and save to localStorage
       localStorage.setItem("image", reader.result);
     }, false);
 
     if (imgPath) {
         reader.readAsDataURL(imgPath);
     }
 }
  </script>
  <script>
    document.getElementById("username").value=localStorage.getItem("username");
    document.getElementById("floor").value=localStorage.getItem("floor");
    document.getElementById("unit").value=localStorage.getItem("unit");
    document.getElementById("contactinfo").value=localStorage.getItem("contactinfo");
    document.getElementById("image").src = localStorage.getItem("image");

  </script>
 
  <script>
    function previewFile() {
   const preview = document.querySelector('img');
   const file = document.querySelector('input[type=file]').files[0];
   const reader = new FileReader();
 
   reader.addEventListener("load", () => {
     // convert image file to base64 string
     preview.src = reader.result;
   }, false);
 
   if (file) {
     reader.readAsDataURL(file);
   }
 }
  </script>


 <script src = "script.js"> </script>
 </body>
</html>